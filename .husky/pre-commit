#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Verificando por segredos nos arquivos com Secretlint..."

# Executa o secretlint apenas nos arquivos que estÃ£o no "stage" do Git.
# Se um segredo for encontrado, o comando falharÃ¡ e o commit serÃ¡ abortado.
npx secretlint --secretlintrc .secretlintrc.json $(git diff --cached --name-only)

# Se o comando acima passar, a mensagem de sucesso serÃ¡ exibida.
echo "âœ… VerificaÃ§Ã£o de segredos concluÃ­da com sucesso."
